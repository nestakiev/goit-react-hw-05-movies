"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[545],{1545:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r,a,u=n(5861),c=n(885),i=n(7757),o=n.n(i),s=n(168),f=n(6444),p=f.ZP.form(r||(r=(0,s.Z)(["\n  padding: 20px;\n"]))),l=f.ZP.input(a||(a=(0,s.Z)(["\n  width: 250px;\n  margin-right: 20px;\n"]))),h=n(184),v=function(t){var e=t.onSubmit,n=function(t){t.preventDefault();var n=t.target.elements.search.value.trim();if(0===n.length)return alert("Please, enter your request");e(n),t.currentTarget.reset()};return(0,h.jsxs)(p,{onSubmit:function(t){return n(t)},children:[(0,h.jsx)(l,{type:"text",name:"search"}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})},d=n(2791),m=n(273),g=n(6368),x=n(501),w=n(6871),k=function(){var t=(0,d.useState)([]),e=(0,c.Z)(t,2),n=e[0],r=e[1],a=(0,x.lr)(),i=(0,c.Z)(a,2),s=i[0],f=i[1],p=(0,w.TH)(),l=s.get("search");(0,d.useEffect)((function(){var t=function(){var t=(0,u.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.fV)(l).then((function(t){return t})).catch((function(t){return console.log(t)}));case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l&&t()}),[l]);return(0,h.jsxs)("main",{children:[(0,h.jsx)(v,{onSubmit:function(t){f(""!==t?{search:t}:{})}}),n&&(0,h.jsx)(g.O,{movies:n,state:{from:p}})]})}},6368:function(t,e,n){n.d(e,{O:function(){return u}});var r=n(501),a=n(184),u=function(t){var e=t.movies,n=t.link,u=t.state;return(0,a.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.title;return n?(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"".concat(n).concat(e),state:u,children:c})},e):(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"".concat(e),state:u,children:c})},e)}))})}},273:function(t,e,n){n.d(e,{Ex:function(){return l},G0:function(){return f},e4:function(){return s},fV:function(){return h},ww:function(){return p}});var r=n(5861),a=n(7757),u=n.n(a),c=n(4569),i=n.n(c);i().defaults.baseURL="https://api.themoviedb.org/3/";var o="70cb528e64bd13ac19df414fea399cc5",s=function(){var t=(0,r.Z)(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("trending/movie/day?api_key=".concat(o));case 2:return e=t.sent,n=e.data.results.map((function(t){return{id:t.id,title:t.title}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r,a,c,s,f,p,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("movie/".concat(e,"?api_key=").concat(o));case 2:return n=t.sent,r=n.data,a=r.vote_average,c=r.title,s=r.overview,f=r.genres,p=r.poster_path,l=r.release_date,t.abrupt("return",{vote_average:a,title:c,overview:s,genres:f,poster_path:p,release_date:l});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("movie/".concat(e,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return n=t.sent,r=n.data.cast.map((function(t){return{name:t.name,character:t.character,profile_path:t.profile_path,id:t.id}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return n=t.sent,r=n.data.results.map((function(t){return{id:t.id,author:t.author,content:t.content}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t){return fetch("https://api.themoviedb.org/3/search/movie/?api_key=".concat(o,"&language=en-US&page=1&query=").concat(t)).then((function(t){return t.json()})).then((function(t){var e=t.results.map((function(t){return{id:t.id,title:t.title}}));return 0===e.length?(alert("We can't found anythings, please repeate your request"),[]):e}))}}}]);
//# sourceMappingURL=545.0dba78f8.chunk.js.map